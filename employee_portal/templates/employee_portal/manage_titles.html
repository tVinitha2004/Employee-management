{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2 class="mb-3">Manage Titles</h2>

  <form method="POST" class="mb-4">
    {% csrf_token %}
    <div class="input-group">
      <input type="text" name="title_name" class="form-control" placeholder="Enter new title (e.g. Manager)" required>
      <button type="submit" class="btn btn-success">Add</button>
    </div>
  </form>

  <table class="table table-bordered table-hover">
    <thead class="table-light">
      <tr>
        <th>Title Name</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for t in titles %}
      <tr>
        <td>{{ t.name }}</td>
        <td>
          <a href="{% url 'edit_title' t.id %}" class="btn btn-primary btn-sm">Edit</a>
          <a href="{% url 'delete_title' t.id %}" class="btn btn-danger btn-sm"
             onclick="return confirm('Are you sure you want to delete this title?')">Delete</a>
        </td>
      </tr>
      {% empty %}
      <tr><td colspan="2">No titles available.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
